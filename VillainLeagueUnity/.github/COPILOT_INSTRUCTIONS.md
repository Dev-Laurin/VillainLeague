# Copilot / Repo Instructions

Purpose
- Tell GitHub Copilot (and other AI assistants reading this file) how to produce high-quality changes for this Unity project.

Core rule (always):
- Use best coding practices. Every code change must include: documentation, automated tests (where applicable), an update to the changelog, and a short, reader-friendly markdown article describing the work. When a change affects gameplay mechanics, also update or create a wiki/guide entry that explains the change from a player's perspective (what the player needs to know).

Checklist for any new feature, bugfix or refactor
1. Code: follow existing C# conventions (PascalCase for types, camelCase with _ prefix for private fields). Keep methods small and single-responsibility. Use ScriptableObjects for data where appropriate and avoid heavy work in Update. Prefer dependency injection and interfaces for testability.
2. Documentation: add XML comments to public types/methods and a short inline comment for non-obvious logic.
3. Tests: add unit tests covering the new behaviour. Put tests in the appropriate test assembly (follow repo test structure). Use deterministic setups and assert expected outcomes. If feature impacts integration, add integration tests where feasible.
4. Wiki / Guide: if the change touches gameplay (rules, balance, UI visible effects), add or update a player-facing article in `Docs/Articles/` or `Docs/Gameplay/` explaining:
   - What changed
   - Why it matters to the player
   - How to use or respond to it in gameplay
5. Changelog: append a short entry to `Docs/CHANGELOG.md` under an `Unreleased` section (or today's date if releasing). Format:
   - YYYY-MM-DD — [Component] Short summary. (PR #123)
6. Developer-facing article: add a developer-friendly markdown file to `Docs/Articles/` (or `DocsForDevs/`) titled `YYYY-MM-DD - FeatureName.md` with:
   - Title and date (ISO format)
   - Summary of what you built
   - Implementation notes and design decisions
   - Key code snippets (small, focused) showing the important parts
   - Tests you added and how to run them
   - Links to updated files and changelog entry
   - Any follow-up tasks or TODOs

Article / Blog template (use this to generate a post for each feature)

---
Title: <Feature name>
Date: YYYY-MM-DD
Author: Copilot

Summary
- One-paragraph summary describing the feature and why it matters.

What I built
- Bullet list of the components added/changed.

How I implemented it
- Short narrative of the implementation, design decisions, and trade-offs.

Key code snippets
```csharp
// small snippet (<= 20 lines) showing the core idea
```

Testing
- What tests were added and how to run them (commands or Unity Test Runner instructions).

Player-facing notes
- What players need to know (if applicable). Write as if writing for the game blog.

Changelog entry
- YYYY-MM-DD — [Component] Short summary. (PR #)

Files changed
- List of important files changed.

Follow-ups
- Any next tasks.

---

Changelog entry example
- 2026-01-10 — [Battle] Add artifact stacking rule and UI tooltip update. (PR #456)

Example Copilot prompt templates
- "Implement a new MonoBehaviour `X` in `Assets/Scripts/` that does Y. Add XML docs, unit tests in `Tests/`, update `Docs/CHANGELOG.md`, create `Docs/Articles/YYYY-MM-DD - X.md` with implementation notes and a player-facing guide in `Docs/Articles/` if this affects gameplay. Use existing code style."
- "Refactor `BattleManager.HandleTurn()` to remove allocations on hot path, add unit tests proving behaviour unchanged, update changelog and write a short blog-style markdown describing the refactor and why it improves performance."

Formatting conventions
- Use ISO 8601 dates (YYYY-MM-DD) in changelog and article headers.
- Keep code snippets short and focused. Avoid pasting whole files.
- Use present tense and clear step-by-step language in player-facing guides.

Where to put things
- Changelog: `Docs/CHANGELOG.md`
- Public player docs: `Docs/Articles/` or `Docs/Gameplay/`
- Developer articles: `DocsForDevs/` or `Docs/Articles/`

Minimum acceptance criteria for a PR generated by Copilot
- Code compiles with existing project settings.
- Unit tests pass locally in CI.
- `Docs/CHANGELOG.md` updated.
- A developer article added to `Docs/Articles/` describing the change.
- If gameplay-affecting: a player-facing doc added/updated in `Docs/Articles/` or `Docs/Gameplay/`.

If a requested change cannot be fully implemented automatically
- Explain what was done, what remains, and precise instructions for a human to complete the remaining steps. Add a TODO section to the developer article and the PR description.

Examples of unacceptable actions
- Committing secrets or API keys.
- Changing files under `Library/` or other generated/IDE files.

If you want me to apply this now, I will create this file at `.github/COPILOT_INSTRUCTIONS.md`.  Otherwise copy this into that location manually.
